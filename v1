from typing import Any, List

class BinaryNode:
    value: Any
    left_child: 'BinaryNode'
    right_child: 'BinaryNode'


    def __init__(self,value: Any):
        self.value=value
        self.left_child=None
        self.right_child=None

    def min(self):
        if self.left_child is None:
            return self
        return self.left_child.min()

    def check(self,value):
        if value == self.value:
            return print("tak")

        if value < self.value:
            if self.left_child:
                self.left_child.check(value)
            else:
                return print("nie")

        if value > self.value:
            if self.right_child:
                self.right_child.check(value)
            else:
                return print("nie")


class BinarySearchTree:
    root: BinaryNode

    def __init__(self,root):
        self.root=root

    def _insert(self, node: BinaryNode, value: Any) -> BinaryNode:
        if node is None:
            return BinaryNode(value)
        if value < node.value:
            node.left_child = self._insert(node.left_child,value)
        if value > node.value:
            node.right_child = self._insert(node.right_child, value)
        return node


    def insert(self, value: Any) -> None:
        self._insert(self.root, value)



    def insertlist(self, list: List[Any]) -> None:
        for value in list:
            self.insert(value)


    def contains(self, value: Any) -> bool:
        szukaj = self.root.check(value)
        return szukaj




    def remove(self, value: Any) -> None:
        self._remove(self.root, value)


    def _remove(self, node: BinaryNode, value: Any) -> BinaryNode:

        if value < node.value:
            node.left_child = self._remove(node.left_child, value)

        elif value > node.value:
            node.right_child = self._remove(node.right_child, value)

        else:
            if node.left_child is None and node.right_child is None:
                return None

            if node.left_child is None:
                return node.right_child

            if node.right_child is None:
                return node.left_child

            node.value = node.right_child.min().value

            node.right_child = self._remove(node.right_child, node.value)

        return node



    def show(self) -> None:
        self.printTree(self.root)

    def printTree(self,node:BinaryNode, level=0):
        if node != None:
            self.printTree(node.right_child, level + 1)
            print(' ' * 4 * level + '->', node.value)
            self.printTree(node.left_child, level + 1)




start = BinaryNode(4)

tree = BinarySearchTree(start)
tree.insert(2)
tree.insert(6)
tree.insert(3)
tree.insert(1)
tree.insert(5)
tree.insert(7)

tree.show()

# tree.remove(2)
#
#
# tree.show()
